---
title: "Global Payments"
---

Global payments enable you to send money worldwide using stablecoins, providing fast, low-cost, and reliable cross-border transactions for businesses and individuals.

## Overview

Global payments are perfect for:

- **Remittances**: Sending money to family abroad
- **Business Payments**: Paying international suppliers
- **Freelancer Payments**: Paying remote workers globally
- **E-commerce**: Cross-border online transactions

## Key Benefits

- **Speed**: Near-instant settlement
- **Cost**: Lower fees than traditional banking
- **Reliability**: 24/7 availability
- **Transparency**: Real-time transaction tracking

## Implementation

### Basic Global Transfer

```bash
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/wallets/transfers \
     --header 'Authorization: Bearer YOUR_API_KEY' \
     --header 'content-type: application/json' \
     --data '{
  "requestId": "global-transfer-001",
  "currency": "usdc",
  "chain": "POLYGON",
  "source": {
    "userId": "sender-user-id"
  },
  "destination": {
    "userId": "recipient-user-id",
    "amount": "100.00"
  }
}'
```

### Batch Global Payments

```bash
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/wallets/transfers/batches \
     --header 'Authorization: Bearer YOUR_API_KEY' \
     --header 'content-type: application/json' \
     --data '{
  "requestId": "global-batch-001",
  "currency": "usdc",
  "chain": "POLYGON",
  "source": {
    "userId": "sender-user-id"
  },
  "destination": {
    "batch": [
      {
        "userId": "recipient-1",
        "amount": "50.00"
      },
      {
        "userId": "recipient-2",
        "amount": "75.00"
      },
      {
        "userId": "recipient-3",
        "amount": "25.00"
      }
    ]
  }
}'
```

## Multi-Currency Support

### Currency Conversion

```javascript
// Get conversion rates
async function getConversionRate(fromCurrency, toCurrency, amount) {
  const response = await fetch(`/v2/currencies/convert`, {
    method: "POST",
    headers: {
      Authorization: `Bearer ${apiKey}`,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      from: fromCurrency,
      to: toCurrency,
      amount: amount,
    }),
  });

  return await response.json();
}

// Convert USD to USDC
const conversion = await getConversionRate("USD", "USDC", "100.00");
console.log(`100 USD = ${conversion.amount} USDC`);
```

### Multi-Currency Transfers

```javascript
// Send in different currencies
const transfers = [
  {
    currency: "usdc",
    chain: "POLYGON",
    amount: "100.00",
    recipient: "recipient-1",
  },
  {
    currency: "usdt",
    chain: "ETHEREUM",
    amount: "200.00",
    recipient: "recipient-2",
  },
];

for (const transfer of transfers) {
  await createTransfer(transfer);
}
```

## Regional Compliance

### KYC Requirements by Region

```javascript
// Check KYC requirements for different regions
async function getKYCRequirements(userId, region) {
  const requirements = await fetch(
    `/v2/users/${userId}/kyc/requirements?region=${region}`
  );
  return await requirements.json();
}

// Example: US requirements
const usRequirements = await getKYCRequirements(userId, "US");
console.log("US KYC Requirements:", usRequirements);

// Example: EU requirements
const euRequirements = await getKYCRequirements(userId, "EU");
console.log("EU KYC Requirements:", euRequirements);
```

### Compliance Workflow

```javascript
class ComplianceManager {
  async checkComplianceRequirements(senderId, recipientId, amount) {
    // Check sender compliance
    const senderKYC = await this.getKYCStatus(senderId);

    // Check recipient compliance
    const recipientKYC = await this.getKYCStatus(recipientId);

    // Check amount thresholds
    const requiresApproval = amount > this.getApprovalThreshold();

    return {
      senderCompliant: senderKYC.status === "APPROVED",
      recipientCompliant: recipientKYC.status === "APPROVED",
      requiresApproval: requiresApproval,
    };
  }
}
```

## Use Cases

### Remittance Service

```javascript
class RemittanceService {
  async sendRemittance(senderId, recipientId, amount, currency) {
    // Validate compliance
    const compliance = await this.checkCompliance(
      senderId,
      recipientId,
      amount
    );

    if (!compliance.senderCompliant || !compliance.recipientCompliant) {
      throw new Error("KYC compliance required");
    }

    // Create transfer
    const transfer = await createTransfer({
      source: { userId: senderId },
      destination: { userId: recipientId, amount: amount },
      currency: currency,
      chain: "POLYGON",
    });

    // Send notification
    await this.notifyRecipient(recipientId, transfer);

    return transfer;
  }
}
```

### Business Payments

```javascript
class BusinessPaymentService {
  async paySupplier(supplierId, amount, currency, invoiceId) {
    // Get supplier wallet
    const supplierWallet = await this.getSupplierWallet(supplierId);

    // Create payment
    const payment = await createTransfer({
      source: { userId: this.companyId },
      destination: {
        userId: supplierId,
        amount: amount,
      },
      currency: currency,
      chain: "POLYGON",
      metadata: {
        invoiceId: invoiceId,
        paymentType: "SUPPLIER_PAYMENT",
      },
    });

    // Update invoice status
    await this.updateInvoiceStatus(invoiceId, "PAID");

    return payment;
  }
}
```

### Freelancer Payments

```javascript
class FreelancerPaymentService {
  async payFreelancers(payments) {
    const batchTransfer = await createBatchTransfer({
      source: { userId: this.companyId },
      destination: {
        batch: payments.map((payment) => ({
          userId: payment.freelancerId,
          amount: payment.amount,
        })),
      },
      currency: "usdc",
      chain: "POLYGON",
    });

    // Notify freelancers
    for (const payment of payments) {
      await this.notifyFreelancer(payment.freelancerId, payment.amount);
    }

    return batchTransfer;
  }
}
```

## Advanced Features

### Scheduled Payments

```javascript
class ScheduledPaymentService {
  async schedulePayment(paymentData, scheduleDate) {
    // Store scheduled payment
    const scheduledPayment = await this.storeScheduledPayment({
      ...paymentData,
      scheduledFor: scheduleDate,
      status: "SCHEDULED",
    });

    // Set up cron job or queue
    await this.scheduleExecution(scheduledPayment.id, scheduleDate);

    return scheduledPayment;
  }

  async executeScheduledPayment(paymentId) {
    const payment = await this.getScheduledPayment(paymentId);

    if (payment.status === "SCHEDULED") {
      const transfer = await createTransfer(payment.transferData);
      await this.updateScheduledPayment(paymentId, "EXECUTED", transfer.id);
    }
  }
}
```

### Payment Analytics

```javascript
class PaymentAnalytics {
  async getPaymentMetrics(timeframe) {
    const metrics = await this.fetchPaymentData(timeframe);

    return {
      totalVolume: metrics.reduce((sum, payment) => sum + payment.amount, 0),
      totalTransactions: metrics.length,
      averageTransactionSize: this.calculateAverage(metrics),
      topCurrencies: this.getTopCurrencies(metrics),
      topRegions: this.getTopRegions(metrics),
    };
  }
}
```

## Best Practices

### Error Handling

```javascript
async function safeGlobalTransfer(transferData) {
  try {
    // Validate compliance first
    const compliance = await checkCompliance(transferData);

    if (!compliance.valid) {
      throw new Error(`Compliance check failed: ${compliance.reason}`);
    }

    // Create transfer
    const transfer = await createTransfer(transferData);

    // Monitor transfer status
    await this.monitorTransferStatus(transfer.id);

    return transfer;
  } catch (error) {
    console.error("Global transfer failed:", error);

    // Handle specific error cases
    if (error.code === "INSUFFICIENT_FUNDS") {
      return { success: false, error: "Insufficient funds" };
    }

    if (error.code === "COMPLIANCE_FAILED") {
      return { success: false, error: "Compliance requirements not met" };
    }

    return { success: false, error: "Transfer failed" };
  }
}
```

### Performance Optimization

```javascript
// Batch processing for high-volume payments
class BatchPaymentProcessor {
  async processBatchPayments(payments) {
    const batches = this.chunkArray(payments, 50); // Process 50 at a time
    const results = [];

    for (const batch of batches) {
      try {
        const batchResult = await this.processBatch(batch);
        results.push(...batchResult);
      } catch (error) {
        console.error("Batch processing failed:", error);
        // Handle batch failure
      }
    }

    return results;
  }
}
```

<Card icon="code" title="Transfer API Reference" href="/docs/transfers">
  View complete transfer API documentation
</Card>

<Card icon="globe" title="Regional Compliance" href="/docs/regions">
  Learn about regional requirements
</Card>
