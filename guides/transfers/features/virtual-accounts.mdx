---
title: "Virtual Accounts"
---

Virtual accounts provide dedicated bank accounts for converting fiat currency to stablecoins. These accounts can be reused for multiple transactions and provide better rates for recurring operations.

## Overview

Virtual accounts are perfect for:

- **Recurring Deposits**: Regular fiat-to-crypto conversions
- **Business Operations**: Automated treasury management
- **Customer Onboarding**: Seamless fiat-to-stablecoin conversion
- **Compliance**: Dedicated accounts for regulatory requirements

## Key Benefits

- **Reusable**: One account for multiple transactions
- **Better Rates**: Improved pricing for recurring operations
- **Flexibility**: Support for multiple payment rails (ACH, Wire, RTP, SWIFT)
- **Real-time**: Instant conversion upon deposit detection

## Creating Virtual Accounts

### Basic Setup

```bash
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/virtual-accounts \
     --header 'Authorization: Bearer YOUR_API_KEY' \
     --header 'content-type: application/json' \
     --data '{
  "userId": "your-user-id",
  "source": {
    "paymentRail": ["ach", "wire", "rtp"],
    "currency": "usd"
  },
  "destination": {
    "chain": "POLYGON",
    "currency": "usdc",
    "walletAddress": "0xd102C4130985B7fcB95697616eaf5542c4f98d49"
  }
}'
```

### Response Example

```json
{
  "message": "Virtual account created successfully",
  "accountInfo": {
    "id": "cfbc005d-8640-57a4-89e1-539c974fa780",
    "userId": "840c28f2-ea7d-5c3a-9271-b10fd8b6ae6d",
    "status": "activated",
    "depositInstructions": {
      "bankName": "Bank of NoWhere",
      "bankAddress": "123 Main St, New York, NY 10001, USA",
      "swiftCode": "XXXXXXXX",
      "beneficiary": {
        "name": "Henry Wu",
        "address": "123 Main St, New York, NY 10001"
      },
      "ach": {
        "routingNumber": "028000024",
        "accountNumber": "123456789"
      },
      "wire": {
        "routingNumber": "021000021",
        "accountNumber": "123456789"
      }
    }
  }
}
```

## Account Management

### Activate/Deactivate Accounts

```bash
# Deactivate account
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/virtual-accounts/{accountId}/deactivate \
     --header 'Authorization: Bearer YOUR_API_KEY'

# Reactivate account
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/virtual-accounts/{accountId}/reactivate \
     --header 'Authorization: Bearer YOUR_API_KEY'
```

### Update Destination Currency

```bash
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/virtual-accounts/{accountId} \
     --header 'Authorization: Bearer YOUR_API_KEY' \
     --header 'content-type: application/json' \
     --data '{
  "destination": {
    "chain": "ETHEREUM",
    "currency": "usdt",
    "walletAddress": "0xNewWalletAddress"
  }
}'
```

## Testing with Sandbox

### Simulate Deposits

```bash
curl --request POST \
     --url https://sandbox.hifibridge.com/v2/virtual-accounts/{accountId}/simulate-deposit \
     --header 'Authorization: Bearer YOUR_API_KEY' \
     --header 'content-type: application/json' \
     --data '{
  "amount": "1000.00",
  "currency": "usd",
  "description": "Test deposit"
}'
```

## Use Cases

### Business Treasury Management

```javascript
// Create virtual account for business operations
const virtualAccount = await createVirtualAccount({
  userId: businessUserId,
  source: {
    paymentRail: ["ach", "wire"],
    currency: "usd",
  },
  destination: {
    chain: "POLYGON",
    currency: "usdc",
    walletAddress: treasuryWallet,
  },
});

// Share deposit instructions with accounting team
const depositInstructions = virtualAccount.accountInfo.depositInstructions;
console.log(`ACH Routing: ${depositInstructions.ach.routingNumber}`);
console.log(`Account Number: ${depositInstructions.ach.accountNumber}`);
```

### Customer Onboarding

```javascript
// Create virtual account for customer
const customerAccount = await createVirtualAccount({
  userId: customerId,
  source: {
    paymentRail: ["ach"],
    currency: "usd",
  },
  destination: {
    chain: "POLYGON",
    currency: "usdc",
    walletAddress: customerWallet,
  },
});

// Display deposit instructions to customer
displayDepositInstructions(customerAccount.accountInfo.depositInstructions);
```

## Best Practices

### Account Lifecycle Management

```javascript
// Monitor account status
const account = await getVirtualAccount(accountId);

if (account.status === "deactivated") {
  // Reactivate when needed
  await reactivateVirtualAccount(accountId);
}
```

### Error Handling

```javascript
try {
  const account = await createVirtualAccount(accountData);

  if (account.status === "activated") {
    console.log("Virtual account ready for deposits");
  }
} catch (error) {
  console.error("Failed to create virtual account:", error);
  // Handle error appropriately
}
```

### Webhook Integration

Listen for virtual account events:

- `VIRTUAL_ACCOUNT.CREATED` - Account created
- `VIRTUAL_ACCOUNT.DEPOSIT.DETECTED` - Deposit detected
- `VIRTUAL_ACCOUNT.DEPOSIT.PROCESSED` - Deposit processed
- `VIRTUAL_ACCOUNT.DEPOSIT.COMPLETED` - Deposit completed

## Limits and Constraints

- **Supported Rails**: ACH, Wire, RTP, SWIFT
- **Supported Currencies**: USD, EUR, GBP (varies by region)
- **Destination Chains**: Ethereum, Polygon, and other supported networks
- **Destination Currencies**: USDC, USDT, and other supported stablecoins

<Card icon="code" title="API Reference" href="/docs/transfers/virtual-accounts">
  View complete API documentation
</Card>

<Card icon="webhook" title="Webhook Events" href="/api/events">
  Learn about webhook events
</Card>
