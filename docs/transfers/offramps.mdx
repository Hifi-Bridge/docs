---
title: "Offramps"
---

**Offramps** convert stablecoins into fiat currency and send it to external bank accounts. Users must accept a quote before the conversion executes.

## How Offramps Work

Offramps follow a quote-based flow:

<Steps>
  <Step title="Create offramp request">
    Specify the source wallet, destination account, and amount to convert.
  </Step>
  <Step title="Review quote">
    Examine the exchange rate, fees, and quote expiration time.
  </Step>
  <Step title="Accept quote">
    Accept the quote to execute the conversion. Stablecoins are converted to fiat and sent to the registered bank account.
  </Step>
</Steps>

## Creating Offramps

Use the [Create Offramp](/api-reference/offramp/create-an-offramp) endpoint to get a quote.

**Request:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/offramps" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "requestId": "201ca31d-700f-4c76-ac4b-961623acbb79",
    "source": {
      "currency": "usdc",
      "chain": "POLYGON",
      "userId": "7d54a7a7-dac3-4313-8b09-27fa4b7fd1ee",
      "amount": 10
    },
    "destination": {
      "currency": "usd",
      "accountId": "12c1c496-8f57-41a1-8292-dbe6547791ce",
      "userId": "7d54a7a7-dac3-4313-8b09-27fa4b7fd1ee",
      "sameDayAch": false
    },
    "developerFee": {
      "fees": [
        {
          "type": "PERCENTAGE",
          "value": "0.0005",
          "walletAddress": "0x366B759bAA089Fa57a08edd3F2E028E86b97f8D7"
        }
      ]
    }
  }'
```

**Response:**

```json
{
  "transferType": "OFFRAMP",
  "transferDetails": {
    "id": "173c1e89-7bbd-4352-9e5d-73807681510d",
    "requestId": "201ca31d-700f-4c76-ac4b-961623acbb79",
    "createdAt": "2025-02-03T16:12:04.331652+00:00",
    "updatedAt": "2025-02-03T16:12:08.732+00:00",
    "status": "OPEN_QUOTE",
    "failedReason": null,
    "source": {
      "userId": "7d54a7a7-dac3-4313-8b09-27fa4b7fd1ee",
      "chain": "POLYGON",
      "currency": "usdc",
      "amount": 10,
      "walletAddress": "0x366B759bAA089Fa57a08edd3F2E028E86b97f8D6",
      "user": {
        "email": "john.doe@hifi.com",
        "firstName": "John",
        "lastName": "Doe",
        "businessName": null
      }
    },
    "destination": {
      "userId": "7d54a7a7-dac3-4313-8b09-27fa4b7fd1ee",
      "amount": 0,
      "currency": "usd",
      "user": {
        "email": "john.doe@hifi.com",
        "firstName": "John",
        "lastName": "Doe",
        "businessName": null
      },
      "accountId": "12c1c496-8f57-41a1-8292-dbe6547791ce",
      "sameDayAch": false
    },
    "receipt": {
      "transactionHash": null,
      "paymentTracking": null
    },
    "developerFee": {
      "id": "1c3d24c1-6136-574c-a647-e7eb6a9fb6ed",
      "transactionHash": null,
      "fees": [
        {
          "type": "PERCENTAGE",
          "value": "0.0005",
          "amount": "0.000515",
          "walletAddress": "0x366B759bAA089Fa57a08edd3F2E028E86b97f8D7"
        },
        {
          "type": "FLAT",
          "value": "0.01",
          "amount": "0.010000",
          "walletAddress": "0x366B759bAA089Fa57a08edd3F2E028E86b97f8D7"
        }
      ]
    },
    "quoteInformation": {
      "sendGross": {
        "amount": "10",
        "currency": "usdc"
      },
      "sendNet": {
        "amount": "10",
        "currency": "usdc"
      },
      "receiveGross": {
        "amount": "10",
        "currency": "usd"
      },
      "receiveNet": {
        "amount": "10",
        "currency": "usd"
      },
      "rate": "1",
      "expiresAt": "2025-02-03T16:22:08.668Z"
    },
    "depositInformation": []
  }
}
```

<Info>
For detailed field documentation, see the [Create Offramp](/api-reference/offramp/create-an-offramp) API reference.
</Info>

## Accepting Quotes

After reviewing the quote, accept it to execute the conversion using the [Accept Quote](/api-reference/offramp/accept-quote) endpoint.

**Request:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/offramps/173c1e89-7bbd-4352-9e5d-73807681510d/quote/accept" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response:**

```json
{
  "transferType": "OFFRAMP",
  "transferDetails": {
    "id": "off_abc123",
    "status": "CRYPTO_INITIATED",
    "quoteInformation": {
      "expiresAt": "2025-02-03T16:22:08.668Z"
    }
  }
}
```

Once accepted, the offramp progresses through crypto and fiat processing phases until completion.

## Transaction Status

Offramps progress through several phases:

### Creation & Quote Phase

| Status              | Description                                                       |
| :------------------ | :---------------------------------------------------------------- |
| **CREATED**         | Offramp request created successfully                              |
| **NOT_INITIATED**   | Request not submitted due to validation error                     |
| **OPEN_QUOTE**      | Quote generated and awaiting acceptance                           |
| **QUOTE_FAILED**    | Quote expired before acceptance                                   |

### Crypto Processing Phase

| Status              | Description                                                       |
| :------------------ | :---------------------------------------------------------------- |
| **CRYPTO_INITIATED**| Converting stablecoins, blockchain transaction started            |
| **CRYPTO_PENDING**  | Blockchain transaction awaiting confirmation                      |
| **CRYPTO_PROCESSED**| Stablecoins successfully converted                                |
| **CRYPTO_FAILED**   | Blockchain transaction failed                                     |
| **CRYPTO_RETURNED** | Failed transaction refunded to user's wallet                      |

### Fiat Processing Phase

| Status              | Description                                                       |
| :------------------ | :---------------------------------------------------------------- |
| **FIAT_INITIATED**  | Fiat payout process started                                       |
| **FIAT_PENDING**    | Fiat transaction awaiting settlement                              |
| **FIAT_FAILED**     | Fiat transaction failed                                           |
| **COMPLETED**       | Fiat successfully delivered to bank account                       |

## Tracking Offramps

<Note>
**Status Updates:** Subscribe to `OFFRAMP.CREATE` and `OFFRAMP.UPDATE` webhook events to receive real-time status notifications. See [Webhooks](/docs/webhooks) for setup instructions.
</Note>

Monitor offramp status using the [Retrieve Offramp](/api-reference/offramp/retrieve-an-offramp) endpoint. The response structure matches the create endpoint shown above.

**Request:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/offramps/173c1e89-7bbd-4352-9e5d-73807681510d" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

## Quote Validity

Quotes expire **10 minutes** after creation to ensure current market rates. This prevents:
- Stale pricing during volatile markets
- Long-pending transactions
- Rate arbitrage

If your quote expires (status becomes `QUOTE_FAILED`):
1. Create a new offramp request
2. Review the updated quote
3. Accept the new quote within 10 minutes

<Warning>
**Time Sensitive:** Always check `quoteInformation.expiresAt` before accepting. Attempting to accept an expired quote will fail.
</Warning>

## Key Concepts

<AccordionGroup>
  <Accordion title="Quote Information">
    The quote provides complete pricing transparency:
    
    - **sendGross**: Total stablecoins being converted
    - **sendNet**: Net amount after fees
    - **receiveGross**: Total fiat before fees
    - **receiveNet**: Actual fiat you'll receive
    - **rate**: Exchange rate (stablecoin to fiat)
    - **expiresAt**: Quote expiration timestamp
    
    Always verify `receiveNet` matches your expectations before accepting.
  </Accordion>

  <Accordion title="Developer Fees">
    Monetize offramp transactions by adding a developer fee when creating the offramp:
    
    **FIX**: Fixed amount regardless of transaction size
    ```json
    {
      "fee": {
        "type": "FIX",
        "value": 0.5
      }
    }
    ```
    
    **PERCENT**: Percentage of transaction amount
    ```json
    {
      "fee": {
        "type": "PERCENT",
        "value": 0.01
      }
    }
    ```
    
    Developer fees are paid in stablecoins from the source wallet before conversion.
  </Accordion>

  <Accordion title="USDT Fee">
    USDT offramps incur an additional 0.1% exchange fee beyond standard rates. This fee appears on your monthly invoice, not deducted from the transaction amount.
  </Accordion>

  <Accordion title="Account Requirements">
    Before creating offramps, ensure:
    - User has completed KYC for the destination currency's rail
    - Offramp account is created and active (status: `ACTIVE`)
    - Sufficient stablecoin balance in the source wallet
  </Accordion>
</AccordionGroup>

## Getting Help

- ðŸ“§ **Email:** support@hifi.com
- ðŸ’¬ **Slack:** Message us in our shared Slack channel

## Related Resources

- [Quickstart Guide](/docs/quickstart) - Complete offramp tutorial
- [Offramp Accounts](/docs/accounts/offramp-accounts) - Set up bank accounts for receiving fiat
- [Users](/docs/users) - KYC requirements for offramping
- [Webhooks](/docs/webhooks) - Real-time offramp status notifications
- [API Reference](/api-reference/offramp/create-an-offramp) - Complete endpoint documentation