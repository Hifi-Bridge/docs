---
title: "Swaps"
---

**Swaps** exchange one cryptocurrency for another within the same blockchain network. Convert between stablecoins like USDC and USDT without bridging across chains.

## How Swaps Work

Swaps execute immediately upon creation:

<Steps>
  <Step title="Create swap request">
    Specify source currency, destination currency, and amount to exchange.
  </Step>
  <Step title="Automatic execution">
    HIFI executes the swap at the current market rate.
  </Step>
  <Step title="Completion">
    Receive the swapped currency in the destination wallet.
  </Step>
</Steps>

## API

# Create a swap

> Create a swap request to exchange one cryptocurrency for another within the same chain.

## OpenAPI

````yaml https://production.hifibridge.com/api/v2/openapi.json post /v2/wallets/swaps
paths:
  path: /v2/wallets/swaps
  method: post
  servers:
    - url: https://production.hifibridge.com
      description: Production server
    - url: https://sandbox.hifibridge.com
      description: Sandbox server
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      application/json:
        schemaArray:
          - type: object
            properties:
              requestId:
                allOf:
                  - type: string
                    format: uuid
                    description: >-
                      Unique identifier for the swap request (recommend using
                      uuid v4)
                    example: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
              source:
                allOf:
                  - type: object
                    description: Source wallet information for the swap
                    required:
                      - userId
                      - chain
                      - currency
                    properties:
                      userId:
                        type: string
                        format: uuid
                        description: User ID of the source wallet owner
                        example: 05179f69-1988-4b46-a847-dd4eea0984d6
                      chain:
                        type: string
                        enum:
                          - POLYGON
                          - ETHEREUM
                          - SOLANA
                        description: Blockchain network for the source wallet
                        example: POLYGON
                      currency:
                        type: string
                        enum:
                          - usdc
                          - usdt
                        description: Source cryptocurrency to swap from
                        example: usdt
                      amount:
                        type: string
                        description: >-
                          Amount to swap (either source.amount or
                          destination.amount must be provided)
                        example: '10000'
              destination:
                allOf:
                  - type: object
                    description: Destination wallet information for the swap
                    required:
                      - chain
                      - currency
                    properties:
                      userId:
                        type: string
                        format: uuid
                        description: User ID of the destination wallet owner
                        example: 05179f69-1988-4b46-a847-dd4eea0984d6
                      externalWalletId:
                        type: string
                        format: uuid
                        description: External wallet ID (Exclude with userId)
                        example: 64fc4e9d-4839-4384-b4a0-0376af2c9b2e
                      walletAddress:
                        type: string
                        pattern: ^0x[a-fA-F0-9]{40}$
                        description: Wallet address (Exclude with userId)
                        example: '0xE9cfBf1D690565579D823264170eE357f80e9A34'
                      chain:
                        type: string
                        enum:
                          - POLYGON
                          - ETHEREUM
                          - SOLANA
                        description: Blockchain network for the destination wallet
                        example: POLYGON
                      currency:
                        type: string
                        enum:
                          - usdc
                          - usdt
                          - usdg
                        description: Destination cryptocurrency to swap to
                        example: usdc
                      amount:
                        type: string
                        description: >-
                          Amount to receive (either source.amount or
                          destination.amount must be provided)
                        example: '10000'
            required: true
            refIdentifier: '#/components/schemas/CreateWalletSwap'
            requiredProperties:
              - requestId
              - source
              - destination
        examples:
          example:
            value:
              requestId: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
              source:
                userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                chain: POLYGON
                currency: usdt
                amount: '10000'
              destination:
                userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                externalWalletId: 64fc4e9d-4839-4384-b4a0-0376af2c9b2e
                walletAddress: '0xE9cfBf1D690565579D823264170eE357f80e9A34'
                chain: POLYGON
                currency: usdc
                amount: '10000'
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              transferType:
                allOf:
                  - type: string
                    example: WALLET.SWAP
              transferDetails:
                allOf:
                  - $ref: '#/components/schemas/WalletSwapDetailsObject'
            refIdentifier: '#/components/schemas/WalletSwapObject'
        examples:
          example:
            value:
              transferType: WALLET.SWAP
              transferDetails:
                id: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
                requestId: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
                status: COMPLETED
                createdAt: '2025-08-20T03:55:29.437108+00:00'
                updatedAt: '2025-08-20T04:08:10.837+00:00'
                source:
                  currency: usdc
                  amount: 10
                  chain: POLYGON
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                destination:
                  currency: usdt
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                  externalWalletId: null
                  amount: null
                  chain: POLYGON
                  walletAddress: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
                error: null
                errorDetails: null
                quoteInformation:
                  sendGross:
                    amount: '10'
                    currency: usdc
                  sendNet:
                    amount: '10'
                    currency: usdc
                  receiveGross:
                    amount: '10'
                    currency: usdc
                  receiveNet:
                    amount: '10'
                    currency: usdc
                  rate: '1'
                  expiresAt: '2025-08-20T03:55:59.539+00:00'
                billingInformation:
                  fees:
                    - id: 2ca381ec-9498-52f5-9a27-d0e392b2626b
                      amount: 0.01
                      currency: USD
                      type: EXCHANGE_FEE
                      timing: ON_INVOICE
        description: Success
    '401':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not authorized
            refIdentifier: '#/components/schemas/Unauthorized'
        examples:
          example:
            value:
              error: Not authorized
        description: Unauthorized
    '404':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not Found
            refIdentifier: '#/components/schemas/NotFound'
        examples:
          example:
            value:
              error: Not Found
        description: Not Found
    '500':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Unexpected error happened
            refIdentifier: '#/components/schemas/InternalServerError'
        examples:
          example:
            value:
              error: Unexpected error happened
        description: Internal Server Error
  deprecated: false
  type: path
components:
  schemas:
    WalletSwapDetailsObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
        requestId:
          type: string
          format: uuid
          example: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
        status:
          type: string
          enum:
            - PENDING
            - COMPLETED
            - FAILED
            - CANCELLED
          example: COMPLETED
        createdAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:29.437108+00:00'
        updatedAt:
          type: string
          format: date-time
          example: '2025-08-20T04:08:10.837+00:00'
        source:
          $ref: '#/components/schemas/WalletSwapSourceObject'
        destination:
          $ref: '#/components/schemas/WalletSwapDestinationObject'
        error:
          type: string
          nullable: true
          example: null
        errorDetails:
          type: string
          nullable: true
          example: null
        quoteInformation:
          $ref: '#/components/schemas/WalletSwapQuoteInformationObject'
        billingInformation:
          $ref: '#/components/schemas/WalletSwapBillingInformationObject'
    WalletSwapSourceObject:
      type: object
      properties:
        currency:
          type: string
          example: usdc
        amount:
          type: number
          example: 10
        chain:
          type: string
          example: POLYGON
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
    WalletSwapDestinationObject:
      type: object
      properties:
        currency:
          type: string
          example: usdt
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
        externalWalletId:
          type: string
          format: uuid
          nullable: true
          example: null
        amount:
          type: number
          nullable: true
          example: null
        chain:
          type: string
          example: POLYGON
        walletAddress:
          type: string
          pattern: ^0x[a-fA-F0-9]{40}$
          example: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
    WalletSwapQuoteInformationObject:
      type: object
      properties:
        sendGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        sendNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        rate:
          type: string
          example: '1'
        expiresAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:59.539+00:00'
    WalletSwapAmountObject:
      type: object
      properties:
        amount:
          type: string
          example: '10'
        currency:
          type: string
          example: usdc
    WalletSwapBillingInformationObject:
      type: object
      properties:
        fees:
          type: array
          items:
            $ref: '#/components/schemas/WalletSwapFeeObject'
    WalletSwapFeeObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 2ca381ec-9498-52f5-9a27-d0e392b2626b
        amount:
          type: number
          example: 0.01
        currency:
          type: string
          example: USD
        type:
          type: string
          enum:
            - EXCHANGE_FEE
            - GAS_FEE
          example: EXCHANGE_FEE
        timing:
          type: string
          enum:
            - ON_INVOICE
            - ON_TRANSACTION
          example: ON_INVOICE

````

# Retrieve a swap

> Retrieve details of a specific swap by its ID.

## OpenAPI

````yaml https://production.hifibridge.com/api/v2/openapi.json get /v2/wallets/swaps/{swapId}
paths:
  path: /v2/wallets/swaps/{swapId}
  method: get
  servers:
    - url: https://production.hifibridge.com
      description: Production server
    - url: https://sandbox.hifibridge.com
      description: Sandbox server
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
          cookie: {}
    parameters:
      path:
        swapId:
          schema:
            - type: string
              required: true
              description: Swap transfer record ID.
      query: {}
      header: {}
      cookie: {}
    body: {}
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              transferType:
                allOf:
                  - type: string
                    example: WALLET.SWAP
              transferDetails:
                allOf:
                  - $ref: '#/components/schemas/WalletSwapDetailsObject'
            refIdentifier: '#/components/schemas/WalletSwapObject'
        examples:
          example:
            value:
              transferType: WALLET.SWAP
              transferDetails:
                id: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
                requestId: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
                status: COMPLETED
                createdAt: '2025-08-20T03:55:29.437108+00:00'
                updatedAt: '2025-08-20T04:08:10.837+00:00'
                source:
                  currency: usdc
                  amount: 10
                  chain: POLYGON
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                destination:
                  currency: usdt
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                  externalWalletId: null
                  amount: null
                  chain: POLYGON
                  walletAddress: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
                error: null
                errorDetails: null
                quoteInformation:
                  sendGross:
                    amount: '10'
                    currency: usdc
                  sendNet:
                    amount: '10'
                    currency: usdc
                  receiveGross:
                    amount: '10'
                    currency: usdc
                  receiveNet:
                    amount: '10'
                    currency: usdc
                  rate: '1'
                  expiresAt: '2025-08-20T03:55:59.539+00:00'
                billingInformation:
                  fees:
                    - id: 2ca381ec-9498-52f5-9a27-d0e392b2626b
                      amount: 0.01
                      currency: USD
                      type: EXCHANGE_FEE
                      timing: ON_INVOICE
        description: Success
    '401':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not authorized
            refIdentifier: '#/components/schemas/Unauthorized'
        examples:
          example:
            value:
              error: Not authorized
        description: Unauthorized
    '404':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not Found
            refIdentifier: '#/components/schemas/NotFound'
        examples:
          example:
            value:
              error: Not Found
        description: Not Found
    '500':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Unexpected error happened
            refIdentifier: '#/components/schemas/InternalServerError'
        examples:
          example:
            value:
              error: Unexpected error happened
        description: Internal Server Error
  deprecated: false
  type: path
components:
  schemas:
    WalletSwapDetailsObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
        requestId:
          type: string
          format: uuid
          example: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
        status:
          type: string
          enum:
            - PENDING
            - COMPLETED
            - FAILED
            - CANCELLED
          example: COMPLETED
        createdAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:29.437108+00:00'
        updatedAt:
          type: string
          format: date-time
          example: '2025-08-20T04:08:10.837+00:00'
        source:
          $ref: '#/components/schemas/WalletSwapSourceObject'
        destination:
          $ref: '#/components/schemas/WalletSwapDestinationObject'
        error:
          type: string
          nullable: true
          example: null
        errorDetails:
          type: string
          nullable: true
          example: null
        quoteInformation:
          $ref: '#/components/schemas/WalletSwapQuoteInformationObject'
        billingInformation:
          $ref: '#/components/schemas/WalletSwapBillingInformationObject'
    WalletSwapSourceObject:
      type: object
      properties:
        currency:
          type: string
          example: usdc
        amount:
          type: number
          example: 10
        chain:
          type: string
          example: POLYGON
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
    WalletSwapDestinationObject:
      type: object
      properties:
        currency:
          type: string
          example: usdt
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
        externalWalletId:
          type: string
          format: uuid
          nullable: true
          example: null
        amount:
          type: number
          nullable: true
          example: null
        chain:
          type: string
          example: POLYGON
        walletAddress:
          type: string
          pattern: ^0x[a-fA-F0-9]{40}$
          example: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
    WalletSwapQuoteInformationObject:
      type: object
      properties:
        sendGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        sendNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        rate:
          type: string
          example: '1'
        expiresAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:59.539+00:00'
    WalletSwapAmountObject:
      type: object
      properties:
        amount:
          type: string
          example: '10'
        currency:
          type: string
          example: usdc
    WalletSwapBillingInformationObject:
      type: object
      properties:
        fees:
          type: array
          items:
            $ref: '#/components/schemas/WalletSwapFeeObject'
    WalletSwapFeeObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 2ca381ec-9498-52f5-9a27-d0e392b2626b
        amount:
          type: number
          example: 0.01
        currency:
          type: string
          example: USD
        type:
          type: string
          enum:
            - EXCHANGE_FEE
            - GAS_FEE
          example: EXCHANGE_FEE
        timing:
          type: string
          enum:
            - ON_INVOICE
            - ON_TRANSACTION
          example: ON_INVOICE

````

# Accept a swap

> Accept a swap request to execute the cryptocurrency exchange.

## OpenAPI

````yaml https://production.hifibridge.com/api/v2/openapi.json post /v2/wallets/swaps/{swapId}/accept
paths:
  path: /v2/wallets/swaps/{swapId}/accept
  method: post
  servers:
    - url: https://production.hifibridge.com
      description: Production server
    - url: https://sandbox.hifibridge.com
      description: Sandbox server
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
          cookie: {}
    parameters:
      path:
        swapId:
          schema:
            - type: string
              required: true
              description: Swap transfer record ID.
      query: {}
      header: {}
      cookie: {}
    body: {}
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              transferType:
                allOf:
                  - type: string
                    example: WALLET.SWAP
              transferDetails:
                allOf:
                  - $ref: '#/components/schemas/WalletSwapDetailsObject'
            refIdentifier: '#/components/schemas/WalletSwapObject'
        examples:
          example:
            value:
              transferType: WALLET.SWAP
              transferDetails:
                id: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
                requestId: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
                status: COMPLETED
                createdAt: '2025-08-20T03:55:29.437108+00:00'
                updatedAt: '2025-08-20T04:08:10.837+00:00'
                source:
                  currency: usdc
                  amount: 10
                  chain: POLYGON
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                destination:
                  currency: usdt
                  userId: 05179f69-1988-4b46-a847-dd4eea0984d6
                  externalWalletId: null
                  amount: null
                  chain: POLYGON
                  walletAddress: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
                error: null
                errorDetails: null
                quoteInformation:
                  sendGross:
                    amount: '10'
                    currency: usdc
                  sendNet:
                    amount: '10'
                    currency: usdc
                  receiveGross:
                    amount: '10'
                    currency: usdc
                  receiveNet:
                    amount: '10'
                    currency: usdc
                  rate: '1'
                  expiresAt: '2025-08-20T03:55:59.539+00:00'
                billingInformation:
                  fees:
                    - id: 2ca381ec-9498-52f5-9a27-d0e392b2626b
                      amount: 0.01
                      currency: USD
                      type: EXCHANGE_FEE
                      timing: ON_INVOICE
        description: Success
    '401':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not authorized
            refIdentifier: '#/components/schemas/Unauthorized'
        examples:
          example:
            value:
              error: Not authorized
        description: Unauthorized
    '404':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Not Found
            refIdentifier: '#/components/schemas/NotFound'
        examples:
          example:
            value:
              error: Not Found
        description: Not Found
    '500':
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - type: string
                    example: Unexpected error happened
            refIdentifier: '#/components/schemas/InternalServerError'
        examples:
          example:
            value:
              error: Unexpected error happened
        description: Internal Server Error
  deprecated: false
  type: path
components:
  schemas:
    WalletSwapDetailsObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: dc923cc1-d74b-58f6-9fe4-9e9c6eb8dc37
        requestId:
          type: string
          format: uuid
          example: 1ab3e6e0-4839-4dbe-89c3-b06d9645ae86
        status:
          type: string
          enum:
            - PENDING
            - COMPLETED
            - FAILED
            - CANCELLED
          example: COMPLETED
        createdAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:29.437108+00:00'
        updatedAt:
          type: string
          format: date-time
          example: '2025-08-20T04:08:10.837+00:00'
        source:
          $ref: '#/components/schemas/WalletSwapSourceObject'
        destination:
          $ref: '#/components/schemas/WalletSwapDestinationObject'
        error:
          type: string
          nullable: true
          example: null
        errorDetails:
          type: string
          nullable: true
          example: null
        quoteInformation:
          $ref: '#/components/schemas/WalletSwapQuoteInformationObject'
        billingInformation:
          $ref: '#/components/schemas/WalletSwapBillingInformationObject'
    WalletSwapSourceObject:
      type: object
      properties:
        currency:
          type: string
          example: usdc
        amount:
          type: number
          example: 10
        chain:
          type: string
          example: POLYGON
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
    WalletSwapDestinationObject:
      type: object
      properties:
        currency:
          type: string
          example: usdt
        userId:
          type: string
          format: uuid
          example: 05179f69-1988-4b46-a847-dd4eea0984d6
        externalWalletId:
          type: string
          format: uuid
          nullable: true
          example: null
        amount:
          type: number
          nullable: true
          example: null
        chain:
          type: string
          example: POLYGON
        walletAddress:
          type: string
          pattern: ^0x[a-fA-F0-9]{40}$
          example: '0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204'
    WalletSwapQuoteInformationObject:
      type: object
      properties:
        sendGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        sendNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveGross:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        receiveNet:
          $ref: '#/components/schemas/WalletSwapAmountObject'
        rate:
          type: string
          example: '1'
        expiresAt:
          type: string
          format: date-time
          example: '2025-08-20T03:55:59.539+00:00'
    WalletSwapAmountObject:
      type: object
      properties:
        amount:
          type: string
          example: '10'
        currency:
          type: string
          example: usdc
    WalletSwapBillingInformationObject:
      type: object
      properties:
        fees:
          type: array
          items:
            $ref: '#/components/schemas/WalletSwapFeeObject'
    WalletSwapFeeObject:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 2ca381ec-9498-52f5-9a27-d0e392b2626b
        amount:
          type: number
          example: 0.01
        currency:
          type: string
          example: USD
        type:
          type: string
          enum:
            - EXCHANGE_FEE
            - GAS_FEE
          example: EXCHANGE_FEE
        timing:
          type: string
          enum:
            - ON_INVOICE
            - ON_TRANSACTION
          example: ON_INVOICE

````

## Creating Swaps

Use the [Create Swap](/api-reference/swap/create-a-swap) endpoint to exchange currencies on the same chain.

**Request:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/wallets/swaps" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "requestId": "1ab3e6e0-4839-4dbe-89c3-b06d9645ae86",
    "source": {
      "userId": "usr_abc123",
      "chain": "POLYGON",
      "currency": "usdc",
      "amount": "100"
    },
    "destination": {
      "userId": "usr_abc123",
      "chain": "POLYGON",
      "currency": "usdt"
    }
  }'
```

**Response:**

```json
{
  "transferType": "WALLET.SWAP",
  "transferDetails": {
    "id": "swp_abc123",
    "requestId": "1ab3e6e0-4839-4dbe-89c3-b06d9645ae86",
    "status": "COMPLETED",
    "createdAt": "2025-08-20T03:55:29.437108+00:00",
    "updatedAt": "2025-08-20T03:55:31.837+00:00",
    "source": {
      "currency": "usdc",
      "amount": 100,
      "chain": "POLYGON",
      "userId": "usr_abc123"
    },
    "destination": {
      "currency": "usdt",
      "userId": "usr_abc123",
      "amount": 100,
      "chain": "POLYGON",
      "walletAddress": "0xe5727a4B1d93A26D6A7Adfaae145EFa41ED7f204"
    },
    "quoteInformation": {
      "sendGross": {
        "amount": "100",
        "currency": "usdc"
      },
      "sendNet": {
        "amount": "100",
        "currency": "usdc"
      },
      "receiveGross": {
        "amount": "100",
        "currency": "usdt"
      },
      "receiveNet": {
        "amount": "100",
        "currency": "usdt"
      },
      "rate": "1",
      "expiresAt": "2025-08-20T03:55:59.539+00:00"
    },
    "billingInformation": {
      "fees": [
        {
          "id": "fee_xyz789",
          "amount": 0.01,
          "currency": "USD",
          "type": "EXCHANGE_FEE",
          "timing": "ON_INVOICE"
        }
      ]
    },
    "error": null,
    "errorDetails": null
  }
}
```

<Info>
For detailed field documentation, see the [Create Swap](/api-reference/swap/create-a-swap) API reference.
</Info>

## Transaction Status

Swaps typically complete within seconds:

| Status          | Description                                                       |
| :-------------- | :---------------------------------------------------------------- |
| **PENDING**     | Swap request created and processing                               |
| **COMPLETED**   | Swap successfully executed                                        |
| **FAILED**      | Swap failed (check `error` and `errorDetails` for specifics)      |
| **CANCELLED**   | Swap was cancelled before execution                               |

<Note>
**Status Updates:** Subscribe to `SWAP.CREATE` and `SWAP.UPDATE` webhook events to receive real-time status notifications. See [Webhooks](/docs/webhooks) for setup instructions.
</Note>

## Tracking Swaps

Monitor swap status using the [Retrieve Swap](/api-reference/swap/retrieve-a-swap) endpoint.

**Request:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/wallets/swaps/swp_abc123" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response:**

```json
{
  "transferType": "WALLET.SWAP",
  "transferDetails": {
    "id": "swp_abc123",
    "status": "COMPLETED",
    "quoteInformation": {
      "rate": "1",
      "receiveNet": {
        "amount": "100",
        "currency": "usdt"
      }
    }
  }
}
```

## Supported Swap Pairs

Currently supported swap combinations:

| Chain           | Supported Pairs                                   |
| :-------------- | :------------------------------------------------ |
| **Polygon**     | USDC â†” USDT, USDC â†” USDG, USDT â†” USDG            |
| **Ethereum**    | USDC â†” USDT, USDC â†” USDG, USDT â†” USDG            |
| **Solana**      | USDC â†” USDT                                       |

<Info>
**Coming Soon:** Additional chains and token pairs will be added. Contact support if you need specific swap pairs.
</Info>

## Key Concepts

<AccordionGroup>
  <Accordion title="Amount Specification">
    You can specify the amount in either source or destination:
    
    **Source amount** (you send exactly 100 USDC):
    ```json
    {
      "source": {
        "currency": "usdc",
        "amount": "100"
      },
      "destination": {
        "currency": "usdt"
      }
    }
    ```
    
    **Destination amount** (you receive exactly 100 USDT):
    ```json
    {
      "source": {
        "currency": "usdc"
      },
      "destination": {
        "currency": "usdt",
        "amount": "100"
      }
    }
    ```
    
    Provide amount in only one side - the system calculates the other based on the current rate.
  </Accordion>

  <Accordion title="Exchange Rates">
    The `quoteInformation.rate` shows the exchange rate between currencies:
    - **1:1 stablecoins** (USDC â†” USDT): Rate is typically "1"
    - **Market rates**: Rates may vary slightly based on liquidity
    
    Always verify `receiveNet` to see the exact amount you'll receive after any fees.
  </Accordion>

  <Accordion title="Billing Information">
    The `billingInformation.fees` array shows all applicable fees:
    
    **EXCHANGE_FEE**: Conversion fee for the swap
    - **timing: ON_INVOICE**: Billed on your monthly invoice (not deducted from swap)
    - **timing: ON_TRANSACTION**: Deducted from the swap amount
    
    **GAS_FEE**: Blockchain transaction fees (if applicable)
    
    Check `timing` to understand when fees are charged.
  </Accordion>

  <Accordion title="External Wallet Swaps">
    Swap to external wallets (not managed by HIFI) by providing `externalWalletId` or `walletAddress`:
    
    ```json
    {
      "destination": {
        "chain": "POLYGON",
        "currency": "usdt",
        "walletAddress": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
      }
    }
    ```
    
    Or use a registered external wallet:
    ```json
    {
      "destination": {
        "chain": "POLYGON",
        "currency": "usdt",
        "externalWalletId": "ext_xyz789"
      }
    }
    ```
    
    <Warning>
    External wallet swaps may require gas sponsorship enrollment. Use `userId` for HIFI wallets when possible.
    </Warning>
  </Accordion>

  <Accordion title="Swap vs Bridge vs Transfer">
    Understanding the differences:
    
    **Swaps**: Exchange currencies on the same chain (USDC â†’ USDT on Polygon)
    
    **Bridges**: Move same currency across chains (USDC on Polygon â†’ USDC on Ethereum)
    
    **Transfers**: Move same currency to another wallet on same chain (USDC wallet A â†’ USDC wallet B on Polygon)
  </Accordion>
</AccordionGroup>

## Common Patterns

### Basic swap flow

<AccordionGroup>
  <Accordion title="Create swap">
    ```bash
    curl -X POST "https://sandbox.hifi.com/v2/wallets/swaps" \
      -H "Authorization: Bearer YOUR_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "requestId": "1ab3e6e0-4839-4dbe-89c3-b06d9645ae86",
        "source": {
          "userId": "usr_abc123",
          "chain": "POLYGON",
          "currency": "usdc",
          "amount": "100"
        },
        "destination": {
          "userId": "usr_abc123",
          "chain": "POLYGON",
          "currency": "usdt"
        }
      }'
    ```
  </Accordion>

  <Accordion title="Verify completion">
    The response will show status `COMPLETED` for successful swaps. Check:
    - `destination.amount` - Amount received
    - `quoteInformation.rate` - Exchange rate used
    - `billingInformation.fees` - Any applicable fees
  </Accordion>

  <Accordion title="Handle errors">
    If status is `FAILED`:
    - Check `error` field for error type
    - Review `errorDetails` for specific failure reason
    - Common issues: insufficient balance, unsupported pair, network congestion
  </Accordion>
</AccordionGroup>

### Swap with exact output amount

<AccordionGroup>
  <Accordion title="Specify destination amount">
    When you need to receive an exact amount:
    ```bash
    curl -X POST "https://sandbox.hifi.com/v2/wallets/swaps" \
      -H "Authorization: Bearer YOUR_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "requestId": "1ab3e6e0-4839-4dbe-89c3-b06d9645ae86",
        "source": {
          "userId": "usr_abc123",
          "chain": "POLYGON",
          "currency": "usdc"
        },
        "destination": {
          "userId": "usr_abc123",
          "chain": "POLYGON",
          "currency": "usdt",
          "amount": "100"
        }
      }'
    ```
  </Accordion>

  <Accordion title="Check source amount used">
    The response shows how much source currency was needed:
    - `source.amount` - Amount deducted from source wallet
    - `quoteInformation.sendNet` - Net amount sent after fees
  </Accordion>
</AccordionGroup>

## Getting Help

- ðŸ“§ **Email:** support@hifi.com
- ðŸ’¬ **Slack:** Message us in our shared Slack channel

## Related Resources

- [Wallet Transfers](/docs/transfers/onchain) - Same-chain transfers without currency exchange
- [Bridging](/docs/transfers/bridging) - Cross-chain asset movement
- [Wallets](/docs/wallets) - Understand wallet addresses and balances
- [Webhooks](/docs/webhooks) - Real-time swap status notifications
- [API Reference](/api-reference/swap/create-a-swap) - Complete endpoint documentation