---
title: "Wallets"
---

A **Wallet** is a cryptocurrency account that holds and moves digital assets on the HIFI platform. Every wallet belongs to a user and can hold balances in supported stablecoins across multiple blockchain networks.

## Automatic Provisioning

Wallets are automatically created when a user is created - no separate setup required. Each user receives wallet addresses on Polygon and Ethereum. Other chains can be added later.

## Wallet Properties

<AccordionGroup>
  <Accordion title="Custodial">
    HIFI wallets are custodial, meaning HIFI manages the private keys for security and regulatory compliance. This allows for features like account recovery and compliance monitoring while users maintain full control over their funds through the API.
  </Accordion>

{" "}

<Accordion title="Multi-Chain">
  Each user has a unique wallet address on every supported blockchain. HIFI
  currently supports Polygon, Ethereum, Solana, and Base, with additional chains
  available based on customer demand. Each blockchain has its own address - for
  example, a single user has separate addresses for USDC on Polygon, USDC on
  Ethereum, and USDC on Solana.
</Accordion>

  <Accordion title="Multi-Currency">
    Wallets can hold multiple stablecoins simultaneously. Supported currencies include USDC and USDT, with additional stablecoins available based on customer needs.
  </Accordion>
</AccordionGroup>

## Checking Balances

Get real-time balance information for a specific currency on a specific chain using the [Get Wallet Balance](/api-reference/wallet/get-wallet-balance) endpoint.

**Request:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/users/usr_abc123/wallets/balance?chain=POLYGON&currency=usdc" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Query Parameters:**

| Parameter  | Type   | Required | Description                     | Example Values                          |
| :--------- | :----- | :------- | :------------------------------ | :-------------------------------------- |
| `chain`    | string | ✅       | Blockchain network              | `POLYGON`, `ETHEREUM`, `SOLANA`, `BASE` |
| `currency` | string | ✅       | Stablecoin to check balance for | `usdc`, `usdt`                          |

**Response:**

```json
{
  "balance": "10000",
  "displayBalance": "0.01",
  "tokenInfo": {
    "chain": "POLYGON_MAINNET",
    "contractAddress": "0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",
    "assetType": "ERC20",
    "quantity": "10000",
    "symbol": "USDC",
    "decimals": 6
  }
}
```

**Response Fields:**

<ResponseField name="balance" type="string">
  Raw balance in smallest unit (e.g., micro-USDC for USDC with 6 decimals)
</ResponseField>

<ResponseField name="displayBalance" type="string">
  Human-readable balance in standard units (e.g., "0.01" USDC)
</ResponseField>

<ResponseField name="tokenInfo.decimals" type="number">
  Number of decimal places for this token (6 for USDC)
</ResponseField>

<ResponseField name="tokenInfo.contractAddress" type="string">
  Smart contract address for this token on the specified chain
</ResponseField>

<Note>
  **Balance Units:** The `balance` field returns the amount in the token's
  smallest unit. For USDC (6 decimals), a balance of "10000" equals 0.01 USDC.
  Use `displayBalance` for user-facing displays.
</Note>

## Receiving Funds

Wallets can receive funds through two methods:

### Blockchain Transfers

Wallets can receive cryptocurrency from:

- Other HIFI users (instant, no fees)
- External wallets (standard blockchain confirmation times)
- Exchange withdrawals
- Any wallet address on supported networks

To receive funds, simply share the user's wallet address for the specific blockchain and currency. No additional setup required.

**Get wallet addresses:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/users/usr_abc123" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response (excerpt):**

```json
{
  "id": "usr_abc123",
  "wallets": {
    "INDIVIDUAL": {
      "POLYGON": {
        "address": "0x1b932E54e77Aeb698144550d5a493Ea99E20Daa7"
      },
      "ETHEREUM": {
        "address": "0xC1c767eaB34b3Cc2C33a354f6Ff2c20fCB98D3C9"
      },
      "SOLANA": {
        "address": "9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"
      }
    }
  }
}
```

### Fiat Onramps

When a user deposits fiat currency (USD, EUR, etc.) through a virtual account, it's automatically converted to stablecoins and credited to their wallet. This requires:

1. **KYC verification** for the relevant rail
2. **Virtual account setup** for the desired fiat currency

See [Virtual Accounts](/docs/accounts/virtual-accounts) for detailed setup instructions.

## Tracking Deposits

Track all incoming blockchain deposits via the [Get Inbound Deposits](/api-reference/wallet/get-inbound-deposits) endpoint, which returns a full history of cryptocurrency received by the user's wallet.

**Request:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/users/usr_abc123/wallets/deposits" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Response:**

```json
{
  "count": 1,
  "records": [
    {
      "userId": "usr_abc123",
      "id": "dep_xyz789",
      "createdAt": "2025-06-25T15:47:16.983978+00:00",
      "updatedAt": "2025-06-25T15:47:16.983978+00:00",
      "wallet": {
        "id": "wlt_def456",
        "address": "0x0B95D270400BE4319EAFbfDD82F6C38B59ab54Ef",
        "chain": "POLYGON",
        "walletType": "INDIVIDUAL"
      },
      "transaction": {
        "transactionHash": "0xe5284c4cb35ae9b5eb0ae23b840032f320b87b63f8967ee9b67ee09dfe6a194a",
        "chain": "POLYGON",
        "currency": "usdc",
        "status": "COMPLETED",
        "sourceAddress": "0x8B3D4E9C42F7A1B5D2E6F8A9C3B7D5E1F4A2C8B6",
        "destinationAddress": "0x0B95D270400BE4319EAFbfDD82F6C38B59ab54Ef",
        "contractAddress": "0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",
        "amount": "19",
        "unitAmount": "19000000"
      }
    }
  ],
  "nextCursor": "2025-06-25T15:47:16.983978+00:00"
}
```

**Response Fields:**

<ResponseField name="transaction.transactionHash" type="string">
  Blockchain transaction hash (view on block explorer)
</ResponseField>

<ResponseField name="transaction.status" type="string">
  Deposit status: `PENDING`, `COMPLETED`, `FAILED`
</ResponseField>

<ResponseField name="transaction.amount" type="string">
  Human-readable amount (e.g., "19" USDC)
</ResponseField>

<ResponseField name="transaction.unitAmount" type="string">
  Raw amount in smallest unit (e.g., "19000000" micro-USDC)
</ResponseField>

<ResponseField name="nextCursor" type="string">
  Pagination cursor for retrieving additional records
</ResponseField>

<Note>
  **Real-Time Updates:** Subscribe to `WALLET.DEPOSIT` webhook events to receive
  immediate notifications when deposits are detected on the blockchain.
</Note>

## Sending Funds

Wallets can send cryptocurrency through two methods:

### Crypto Transfers

Send cryptocurrency to other HIFI users or external wallet addresses using the [Create Crypto Transfer](/api-reference/crypto-transfer/create-a-crypto-transfer) endpoint.

**Transfer to another HIFI user:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/wallets/transfers" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "source": {
      "userId": "usr_abc123"
    },
    "destination": {
      "userId": "usr_xyz789"
    },
    "amount": 10,
    "currency": "usdc",
    "chain": "POLYGON",
    "requestId": "a40ea2aa-7937-4be9-bb1f-b75f1489bcc6"
  }'
```

**Transfer to external wallet:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/wallets/transfers" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "source": {
      "userId": "usr_abc123"
    },
    "destination": {
      "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb"
    },
    "amount": 10,
    "currency": "usdc",
    "chain": "POLYGON",
    "requestId": "b51fb3bb-8a48-5cfa-cc2g-c86g2589cdd7"
  }'
```

<Note>
  **No Registration Required:** You can send to any external wallet address
  directly without registering it first. Simply provide the address in the
  `destination.address` field.
</Note>

## Tracking Transfers

List all crypto transfers associated with users under your organization using the [List All Crypto Transfers](/api-reference/wallet/list-all-crypto-transfers) endpoint. Transfers are returned sorted by creation date, with the most recent appearing first.

**Request:**

```bash
curl -X GET "https://sandbox.hifi.com/v2/wallets/transfers?userId=usr_abc123&limit=10" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Query Parameters:**

| Parameter       | Type   | Required | Description                                                 | Example Values    |
| :-------------- | :----- | :------- | :---------------------------------------------------------- | :---------------- |
| `userId`        | string | ❌       | Filter transfers by user ID                                 | `usr_abc123`      |
| `limit`         | string | ❌       | Number of records to return (default: 10, max: 100)         | `10`, `50`, `100` |
| `createdBefore` | string | ❌       | Filter transfers created before this date (ISO: YYYY-MM-DD) | `2025-02-03`      |
| `createdAfter`  | string | ❌       | Filter transfers created after this date (ISO: YYYY-MM-DD)  | `2025-01-01`      |

**Response:**

```json
{
  "count": 1,
  "records": [
    {
      "transferType": "WALLET.TRANSFER",
      "transferDetails": {
        "id": "006737ca-42d5-4780-b3c2-aeb63279c591",
        "requestId": "d0d62bec-2623-4f61-afda-148d6a8e1009",
        "createdAt": "2025-02-03T16:11:36.654+00:00",
        "updatedAt": "2025-02-03T16:12:41.503+00:00",
        "chain": "POLYGON_MAINNET",
        "currency": "usdc",
        "contractAddress": "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",
        "status": "COMPLETED",
        "failedReason": "",
        "source": {
          "userId": "usr_abc123",
          "walletAddress": "0xA25641cB6056C371CB65F28aC02450c9206e0fAA",
          "walletType": "INDIVIDUAL",
          "user": {
            "email": "user@example.com",
            "firstName": "John",
            "lastName": "Doe",
            "businessName": null
          }
        },
        "destination": {
          "userId": "usr_xyz789",
          "walletType": "INDIVIDUAL",
          "walletAddress": "0xB36742cB6056C371CB65F28aC02450c9206e0fBB",
          "user": {
            "email": "recipient@example.com",
            "firstName": "Jane",
            "lastName": "Smith",
            "businessName": null
          }
        },
        "amount": 0.01,
        "amountIncludeDeveloperFee": 0.01,
        "receipt": {
          "transactionHash": "0x5784890f9efd0160e9401439a5cf2aa5350580ecf48f9ca2af617338ae089e53",
          "userOpHash": "0xef7bdb071b1fcfb5df629bd4d27ffa6dc32d0a5df676f26fb8c25311df1185ac"
        },
        "developerFee": {
          "feeId": "9b354c37-d20d-4d94-bcd8-c852353ca406",
          "feeType": "FIX",
          "feeAmount": 0.5,
          "feePercent": 0,
          "status": "CREATED",
          "transactionHash": null,
          "failedReason": null
        }
      }
    }
  ],
  "nextCursor": "2025-02-03T16:11:36.654+00:00"
}
```

**Response Fields:**

<ResponseField name="count" type="integer">
  Total number of transfer records in the current page
</ResponseField>

<ResponseField name="records" type="array">
  Array of transfer records. Each record contains:
  <Expandable title="transferDetails properties">
    <ResponseField name="id" type="string">
      Unique transfer ID
    </ResponseField>
    <ResponseField name="requestId" type="string">
      Request ID used when creating the transfer
    </ResponseField>
    <ResponseField name="status" type="string">
      Transfer status: `CREATED`, `INITIATED`, `PENDING`, `COMPLETED`, `FAILED`
    </ResponseField>
    <ResponseField name="chain" type="string">
      Blockchain network (e.g., `POLYGON_MAINNET`, `ETHEREUM_MAINNET`)
    </ResponseField>
    <ResponseField name="currency" type="string">
      Stablecoin currency (e.g., `usdc`, `usdt`)
    </ResponseField>
    <ResponseField name="amount" type="number">
      Transfer amount in standard units
    </ResponseField>
    <ResponseField name="amountIncludeDeveloperFee" type="number">
      Total amount including developer fee
    </ResponseField>
    <ResponseField name="source" type="object">
      Source wallet information including user details
    </ResponseField>
    <ResponseField name="destination" type="object">
      Destination wallet information including user details
    </ResponseField>
    <ResponseField name="receipt.transactionHash" type="string">
      Blockchain transaction hash (available when status is COMPLETED)
    </ResponseField>
    <ResponseField name="approval" type="object">
      Approval workflow details (present if transfer requires approval)
      <Expandable title="approval properties">
        <ResponseField name="status" type="string">
          Approval status: `PENDING`, `APPROVED`, `REJECTED`
        </ResponseField>
        <ResponseField name="votes" type="array">
          Array of approval votes when status is `PENDING_APPROVAL` or
          `REJECTED`
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="developerFee" type="object">
      Developer fee information (if applicable)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="nextCursor" type="string">
  Pagination cursor. Pass this as `createdBefore` in the next request to
  retrieve the next page of results. This is the `createdAt` timestamp of the
  last record in the current page.
</ResponseField>

**Pagination Example:**

```bash
# First page
curl -X GET "https://sandbox.hifi.com/v2/wallets/transfers?limit=10" \
  -H "Authorization: Bearer YOUR_API_KEY"

# Next page (using nextCursor from previous response)
curl -X GET "https://sandbox.hifi.com/v2/wallets/transfers?limit=10&createdBefore=2025-02-03T16:11:36.654+00:00" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

<Note>
  **Real-Time Updates:** Subscribe to `WALLET.TRANSFER` webhook events to
  receive immediate notifications when transfers are created or updated, instead
  of polling the API.
</Note>

### Fiat Offramps

Convert stablecoins to fiat currency and send to a bank account. This requires:

1. **KYC verification** for the relevant rail
2. **Offramp account setup** with bank account details

See [Offramp](/docs/offramp) for detailed instructions.

## External Wallets

An **External Wallet** is a wallet address that belongs to the user but is not managed by HIFI.

<Note>
  **Registration vs Direct Transfer:** - **Wallet transfers** can send directly
  to any external wallet address without registration (see [Crypto
  Transfers](#crypto-transfers) above) - **Virtual accounts and onramps**
  require registration if you want to use the `externalWalletId` parameter to
  route funds directly to an external wallet
</Note>

### Register External Wallet

Register an external wallet address for use with virtual accounts and onramps using the [Create External Wallet](/api-reference/external-wallet/create-external-wallet) endpoint.

**Request:**

```bash
curl -X POST "https://sandbox.hifi.com/v2/users/usr_abc123/external-wallets" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "chain": "ETHEREUM",
    "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
    "label": "My Ledger Wallet"
  }'
```

**Request Fields:**

<ResponseField name="chain" type="string" required>
  Blockchain network for this wallet address. Options: `POLYGON`, `ETHEREUM`,
  `SOLANA`, `BASE`
</ResponseField>

<ResponseField name="address" type="string" required>
  The wallet address on the specified chain. Must be a valid address format for
  the chain.
</ResponseField>

<ResponseField name="label" type="string">
  Optional human-readable label to identify this wallet (e.g., "My Ledger
  Wallet", "Exchange Account")
</ResponseField>

**Response:**

```json
{
  "id": "ew_abc123",
  "userId": "usr_abc123",
  "chain": "ETHEREUM",
  "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
  "label": "My Ledger Wallet",
  "createdAt": "2025-01-15T10:30:00Z"
}
```

**Response Fields:**

<ResponseField name="id" type="string">
  Unique external wallet ID. **Save this** to reference the wallet in other API
  calls (e.g., when creating virtual accounts).
</ResponseField>

<ResponseField name="userId" type="string">
  The user ID this external wallet belongs to
</ResponseField>

<ResponseField name="chain" type="string">
  Blockchain network for this wallet
</ResponseField>

<ResponseField name="address" type="string">
  The wallet address
</ResponseField>

<ResponseField name="label" type="string">
  Human-readable label for the wallet
</ResponseField>

### Using External Wallets

Once registered, you can use the `externalWalletId` in:

- **Virtual Accounts**: Send stablecoins directly to external wallets when deposits are converted (see [Virtual Accounts](/docs/accounts/virtual-accounts))
- **Onramps**: Route converted funds to external wallets instead of HIFI wallets

<Info>
  **Regular wallet transfers** don't require registration - you can send
  directly to any external wallet address using the `destination.address` field
  in the [Create Crypto
  Transfer](/api-reference/crypto-transfer/create-a-crypto-transfer) endpoint.
</Info>

<Warning>
  **Address Validation:** Ensure the wallet address is valid for the specified
  chain. Invalid addresses will cause registration to fail.
  Ethereum/Polygon/Base addresses use 0x format, while Solana uses Base58
  encoding.
</Warning>

<Note>
  **Reusability:** External wallets can be reused across multiple virtual
  accounts and operations. Register once and reference the `externalWalletId`
  wherever needed.
</Note>

## Key Concepts

<AccordionGroup>
  <Accordion title="Wallet Types">
    Each wallet has a `walletType` that indicates its purpose:
    - **INDIVIDUAL** - Personal wallet for individual users
    - **BUSINESS** - Business wallet for corporate users
    
    The wallet type affects compliance requirements and transaction limits.
  </Accordion>

{" "}

<Accordion title="Chain-Specific Addresses">
  Each blockchain network has its own address format: -
  **Ethereum/Polygon/Base** - 0x format (e.g., `0x1b932E54...`) - **Solana** -
  Base58 format (e.g., `9xQeWvG816...`) Always use the correct address for the
  target blockchain to avoid lost funds.
</Accordion>

{" "}

<Accordion title="Token Decimals">
  Stablecoins use different decimal places: - **USDC** - 6 decimals (1 USDC =
  1,000,000 micro-USDC) - **USDT** - 6 decimals Always check the `decimals`
  field in API responses to correctly display amounts.
</Accordion>

  <Accordion title="Confirmation Times">
    Blockchain transfer speeds vary by network:
    - **Polygon** - ~2 seconds
    - **Ethereum** - ~12 seconds  
    - **Solana** - ~0.4 seconds
    - **Base** - ~2 seconds
    
    HIFI credits deposits after the blockchain confirms the transaction.
  </Accordion>
</AccordionGroup>

## Common Patterns

### Check balance before transfer

<AccordionGroup>
  <Accordion title="Get current balance">
    ```bash
    curl -X GET "https://sandbox.hifi.com/v2/users/usr_abc123/wallets/balance?chain=POLYGON&currency=usdc" \
      -H "Authorization: Bearer YOUR_API_KEY"
    ```
  </Accordion>

  <Accordion title="Verify sufficient funds">
    Check that `displayBalance` is greater than or equal to the amount you want to send. If insufficient, the transfer will fail with an insufficient balance error.
  </Accordion>
</AccordionGroup>

### Monitor deposit status

<AccordionGroup>
  <Accordion title="List recent deposits">
    ```bash
    curl -X GET "https://sandbox.hifi.com/v2/users/usr_abc123/wallets/deposits" \
      -H "Authorization: Bearer YOUR_API_KEY"
    ```
  </Accordion>

{" "}

<Accordion title="Check specific deposit">
  Look for the deposit record with the matching `transactionHash`. The `status`
  field shows: - `PENDING` - Waiting for blockchain confirmation - `COMPLETED` -
  Funds credited to wallet - `FAILED` - Transaction failed (funds not received)
</Accordion>

  <Accordion title="Subscribe to webhooks">
    Set up `WALLET.DEPOSIT` webhook events for real-time notifications instead of polling the API.
  </Accordion>
</AccordionGroup>

### Display balance to users

```javascript
// Example: Convert raw balance to display format
const response = await fetch(
  "https://sandbox.hifi.com/v2/users/usr_abc123/wallets/balance?chain=POLYGON&currency=usdc",
  {
    headers: { Authorization: "Bearer YOUR_API_KEY" },
  }
);

const data = await response.json();

// Use displayBalance for user-facing displays
console.log(`Balance: ${data.displayBalance} USDC`);

// Or calculate manually from raw balance and decimals
const displayAmount =
  parseFloat(data.balance) / Math.pow(10, data.tokenInfo.decimals);
console.log(`Balance: ${displayAmount.toFixed(2)} USDC`);
```

## Getting Help

- 📧 **Email:** support@hifi.com
- 💬 **Slack:** Message us in our shared Slack channel

## Related Resources

- [Users](/docs/users) - Create users and understand wallet provisioning
- [Wallet Transfers](/docs/transfers/onchain) - Send cryptocurrency between wallets
- [Virtual Accounts](/docs/accounts/virtual-accounts) - Set up fiat onramps to wallets
- [Offramps](/docs/transfers/offramps) - Convert wallet balances to fiat
- [Webhooks](/docs/webhooks) - Real-time deposit and transfer notifications
- [API Reference](/api-reference/wallet/retrieve-wallet-balance) - Complete endpoint documentation
