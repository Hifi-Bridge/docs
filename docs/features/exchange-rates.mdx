---
title: "Exchange Rates"
sidebarTitle: "Exchange Rates"
---

**Exchange Rates** provide estimated conversion rates for offramp transactions from cryptocurrencies into fiat currencies, and onramp transactions from fiat currencies into cryptocurrencies. Use these rates to display pricing information to users before creating offramp or onramp requests.

## How Exchange Rates Work

Exchange rates work similarly for both offramps (crypto to fiat) and onramps (fiat to crypto):

<Steps>
  <Step title="Request rate">
    Query the rates endpoint with the source and destination currencies.
  </Step>
  <Step title="Receive conversion rate">
    Get the estimated conversion rate for the currency pair.
  </Step>
  <Step title="Display to user">
    Show the rate to your user in your UI before they initiate the transaction.
  </Step>
  <Step title="Create transaction">
    When the user is ready, create the offramp or onramp request. The final quote may differ slightly from the estimated rate.
  </Step>
</Steps>

## Retrieving Exchange Rates

Use these endpoints to get estimated conversion rates:
- [Retrieve Offramp Rate](/api-reference/offramp/retrieve-offramp-rate) - For crypto to fiat conversions
- [Retrieve Onramp Rate](/api-reference/onramp/retrieve-onramp-rate) - For fiat to crypto conversions

### Offramp Rates (Crypto to Fiat)

```bash
curl -X GET "https://sandbox.hifibridge.com/v2/offramps/rates?fromCurrency=usdc&toCurrency=usd" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Query Parameters:**

- **fromCurrency** (required): Source cryptocurrency. Currently supports `usdc`.
- **toCurrency** (required): Destination fiat currency. Supports:
  - `usd`, `eur`, `brl`, `mxn`, `ars`, `cop` (Americas)
  - `ugx`, `ngn`, `kes`, `xof`, `rwf`, `tzs`, `zmw`, `mwk`, `xaf` (Africa)

### Onramp Rates (Fiat to Crypto)

```bash
curl -X GET "https://sandbox.hifibridge.com/v2/onramps/rates?fromCurrency=usd&toCurrency=usdc" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**Query Parameters:**

- **fromCurrency** (required): Source fiat currency. Supports:
  - `usd`, `eur`, `brl`, `mxn`, `ars`, `cop` (Americas)
  - `ugx`, `ngn`, `kes`, `xof`, `rwf`, `tzs`, `zmw`, `mwk`, `xaf` (Africa)
- **toCurrency** (required): Destination cryptocurrency. Currently supports `usdc`.

### Response

```json
{
  "fromCurrency": "usdc",
  "toCurrency": "usd",
  "conversionRate": "1"
}
```

<ResponseField name="fromCurrency" type="string">
  Source currency code (e.g., `usdc` for crypto, `usd`, `eur`, `brl` for fiat).
</ResponseField>

<ResponseField name="toCurrency" type="string">
  Destination currency code (e.g., `usd`, `eur`, `brl` for fiat, `usdc` for crypto).
</ResponseField>

<ResponseField name="conversionRate" type="string">
  Estimated conversion rate from the source currency to the destination currency. The rate is expressed as a string to preserve precision.
</ResponseField>

## Usage Examples

### Display Rate in UI

Retrieve rates to show users estimated conversion amounts before they create an offramp or onramp:

```javascript
async function getOfframpRate(fromCurrency, toCurrency) {
  const response = await fetch(
    `https://sandbox.hifibridge.com/v2/offramps/rates?fromCurrency=${fromCurrency}&toCurrency=${toCurrency}`,
    {
      method: 'GET',
      headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
      }
    }
  );

  if (!response.ok) {
    throw new Error('Failed to fetch exchange rate');
  }

  const rateData = await response.json();
  return rateData.conversionRate;
}

async function getOnrampRate(fromCurrency, toCurrency) {
  const response = await fetch(
    `https://sandbox.hifibridge.com/v2/onramps/rates?fromCurrency=${fromCurrency}&toCurrency=${toCurrency}`,
    {
      method: 'GET',
      headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
      }
    }
  );

  if (!response.ok) {
    throw new Error('Failed to fetch exchange rate');
  }

  const rateData = await response.json();
  return rateData.conversionRate;
}

// Example usage - Offramp
const offrampRate = await getOfframpRate('usdc', 'usd');
console.log(`1 USDC = ${offrampRate} USD`);

// Example usage - Onramp
const onrampRate = await getOnrampRate('usd', 'usdc');
console.log(`1 USD = ${onrampRate} USDC`);
```

### Calculate Estimated Amount

Use the rate to calculate estimated conversion amounts:

```javascript
function calculateEstimatedAmount(sourceAmount, conversionRate) {
  // Parse string rates to numbers for calculation
  const amount = parseFloat(sourceAmount);
  const rate = parseFloat(conversionRate);
  return (amount * rate).toFixed(2);
}

// Example: Calculate USD equivalent of 100 USDC (Offramp)
const cryptoAmount = '100';
const offrampRate = await getOfframpRate('usdc', 'usd');
const estimatedUsd = calculateEstimatedAmount(cryptoAmount, offrampRate);
console.log(`${cryptoAmount} USDC â‰ˆ ${estimatedUsd} USD`);

// Example: Calculate USDC equivalent of 100 USD (Onramp)
const fiatAmount = '100';
const onrampRate = await getOnrampRate('usd', 'usdc');
const estimatedUsdc = calculateEstimatedAmount(fiatAmount, onrampRate);
console.log(`${fiatAmount} USD â‰ˆ ${estimatedUsdc} USDC`);
```

### Pre-fill Conversion Estimates

Show estimated amounts in your offramp form:

```jsx
import { useState, useEffect } from 'react';

function OfframpForm() {
  const [cryptoAmount, setCryptoAmount] = useState('');
  const [rate, setRate] = useState(null);
  const [estimatedFiat, setEstimatedFiat] = useState('');

  useEffect(() => {
    // Fetch rate on component mount
    async function fetchRate() {
      const conversionRate = await getOfframpRate('usdc', 'usd');
      setRate(conversionRate);
    }
    fetchRate();
  }, []);

  useEffect(() => {
    // Calculate estimated amount when crypto amount changes
    if (cryptoAmount && rate) {
      const estimated = calculateEstimatedAmount(cryptoAmount, rate);
      setEstimatedFiat(estimated);
    }
  }, [cryptoAmount, rate]);

  return (
    <div>
      <label>
        USDC Amount:
        <input
          type="number"
          value={cryptoAmount}
          onChange={(e) => setCryptoAmount(e.target.value)}
        />
      </label>
      {estimatedFiat && (
        <p>Estimated USD: {estimatedFiat}</p>
      )}
      {rate && (
        <p className="text-sm text-gray-500">
          Rate: 1 USDC = {rate} USD (estimated)
        </p>
      )}
    </div>
  );
}
```

## Key Concepts

<AccordionGroup>
  <Accordion title="Estimated vs. Final Rates">
    Exchange rates from these endpoints are **estimates** for display purposes. The final conversion rate will be determined when you create the offramp or onramp request and may differ based on:
    
    - Current market conditions at transaction time
    - Fee calculations
    - Network fees
    - Quote expiration (quotes are valid for 10 minutes)
    
    Always inform users that displayed rates are estimates and final amounts will be shown in the quote.
  </Accordion>

  {" "}

  <Accordion title="Rate Format">
    Conversion rates are returned as strings to preserve decimal precision. When performing calculations:
    
    ```javascript
    // Correct: Parse to float for calculations
    const rate = parseFloat(response.conversionRate);
    const amount = parseFloat(cryptoAmount);
    const result = amount * rate;
    
    // Incorrect: Direct string operations
    const result = response.conversionRate * cryptoAmount; // May cause precision loss
    ```
    
    Use `parseFloat()` or a decimal library (like `decimal.js`) for financial calculations to maintain accuracy.
  </Accordion>

  {" "}

  <Accordion title="When to Fetch Rates">
    Fetch exchange rates:
    
    - **Before showing transaction forms** - Display estimated amounts to users
    - **On page load** - Pre-populate rate information
    - **Periodically** - Update rates for real-time pricing (cache for 1-2 minutes)
    - **On currency pair change** - Fetch new rate when user selects different currencies
    
    Don't fetch rates on every keystroke. Cache rates for a short period to reduce API calls.
  </Accordion>

  {" "}

  <Accordion title="Supported Currency Pairs">
    Currently, the rates endpoints support:
    
    **Offramps (Crypto to Fiat):**
    - **From:** USDC (other cryptocurrencies coming soon)
    - **To:** All supported fiat currencies including USD, EUR, BRL, MXN, ARS, COP, and various African currencies
    
    **Onramps (Fiat to Crypto):**
    - **From:** All supported fiat currencies including USD, EUR, BRL, MXN, ARS, COP, and various African currencies
    - **To:** USDC (other cryptocurrencies coming soon)
    
    For the complete list of supported currencies, see the [Currencies Reference](/docs/references/currencies).
  </Accordion>

  {" "}

  <Accordion title="Error Handling">
    Handle common error responses:
    
    - **401 Unauthorized:** Invalid or missing API key
    - **404 Not Found:** Unsupported currency pair
    - **500 Internal Server Error:** Temporary service issue
    
    ```javascript
    try {
      const rate = await getOfframpRate('usdc', 'usd');
    } catch (error) {
      if (error.response?.status === 404) {
        console.error('Currency pair not supported');
      } else if (error.response?.status === 401) {
        console.error('Authentication failed');
      } else {
        console.error('Failed to fetch rate:', error);
      }
    }
    ```
  </Accordion>
</AccordionGroup>

## Best Practices

<Note>
**Rate Caching:** Cache exchange rates for 1-2 minutes to reduce API calls while keeping data reasonably fresh. Don't cache longer than 5 minutes as rates can change.
</Note>

- **Show estimates only:** Always label displayed rates as "estimated" to set user expectations
- **Refresh on user action:** Update rates when users change currency pairs
- **Handle rate changes gracefully:** If a rate changes between display and transaction creation, the quote will show the actual rate
- **Validate currency pairs:** Verify the requested currency pair is supported before displaying rates

## Getting Help

- ðŸ“§ **Email:** support@hifibridge.com
- ðŸ’¬ **Slack:** Message us in our shared Slack channel

## Related Resources

- [Offramps](/docs/transfers/offramps) - Create offramp transactions using these rates
- [Onramps](/docs/transfers/onramps) - Create onramp transactions using these rates
- [Currencies Reference](/docs/references/currencies) - Complete list of supported currencies
- [Offramp Accounts](/docs/accounts/offramp-accounts) - Set up bank accounts for receiving fiat
- [API Reference](/api-reference/offramp/retrieve-offramp-rate) - Complete endpoint documentation